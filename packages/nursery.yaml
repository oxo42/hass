---
automation nursery:
  - id: nursery_heat_at_night
    alias: "Nursery: heat at night"
    description: ""
    trigger:
      - platform: time
        at: "18:00"
    action:
      - service: climate.turn_on
        target:
          entity_id: climate.dyson_heater
      - service: climate.set_temperature
        target:
          entity_id: climate.dyson_heater
        data:
          temperature: 22
          hvac_mode: heat
      - service: fan.set_preset_mode
        target:
          entity_id: fan.dyson_heater
        data:
          preset_mode: Auto

  - id: nursery_cool_during_day
    alias: "Nursery: cool during the day"
    description: ""
    trigger:
      - platform: time
        at: 06:00
    action:
      - service: climate.set_hvac_mode
        target:
          entity_id: climate.dyson_heater
        data:
          hvac_mode: cool
      - service: fan.set_preset_mode
        target:
          entity_id: fan.dyson_heater
        data:
          preset_mode: Auto

  - id: "1642893483187"
    alias: "Nursery: Ceiling Light Double Taps"
    description: ""
    use_blueprint:
      path: kpine/ge_double.yaml
      input:
        # switch.nursery_ceiling_lights
        device: 129bb8442ddda374f5610d8befdcfd80
        double_tap_on:
          - service: light.turn_on
            data:
              brightness: 205
              transition: 5
            target:
              entity_id: light.nursery_light
        double_tap_off:
          - service: script.nursery_lights_out_speaker_on

  - id: "1643905281363"
    alias: "Nursery: Button"
    use_blueprint:
      path: johnny5w/zha-samsung-smartthings-button.yaml
      input:
        # light.nursery_light
        samsung_smartthings_button: 0ddde75b7640155de09f558fb4942612
        remote_button_short_press:
          - service: light.turn_on
            data:
              brightness: 3
              transition: 5
            target:
              entity_id: light.nursery_light
          - delay: 5
          - service: switch.turn_off
            target:
              entity_id: switch.nursery_ceiling_lights
        remote_button_double_press:
          - service: light.turn_on
            data:
              brightness: 205
              transition: 5
            target:
              entity_id: light.nursery_light
          - delay: 5
          - service: switch.turn_off
            target:
              entity_id: switch.nursery_ceiling_lights
        remote_button_hold_press:
          - service: script.nursery_lights_out_speaker_on

script:
  nursery_lights_out_speaker_on:
    alias: "Nursery: Lights out, white noise on"
    sequence:
      - service: switch.turn_off
        target:
          entity_id: switch.nursery_ceiling_lights
      - service: light.turn_off
        target:
          entity_id: light.nursery_light
      - service: light.turn_on
        entity_id: light.mals_night_light
        data:
          color_name: red
          brightness: 3
        target:
          entity_id: light.mals_night_light
      - service: climate.set_temperature
        target:
          entity_id: climate.dyson_heater
        data:
          temperature: 22
          hvac_mode: heat
# Mal's Night Light
# service: light.turn_on
# entity_id: light.mals_night_light
# data:
#   color_name: yellow
#   brightness: 255
#   transition: 18
# target:
#   entity_id: light.mals_night_light
